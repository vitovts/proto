 
- Коммутация каналов
  - Аналоговая
  - Цифровая (TDM)
- Коммутация пакетов
  - VoIP (Voice over IP)
------------------------------
- Типы оконечных устройств (телефоны)
  - Аналоговые (работают со всеми АТС, но необходимы шлюзы и RJ11)
  - Цифровые (для каждого вендера свои)
  - DECT 
  - IP:
    - RJ-45
    - DECT
    - WiFi (проблемы с "качеством" связи)
--------------------------  
- Типы сигнализации
  1. Линейная (supervisory)
     - on-hook (отбой)
     - off-hook (ответ)
     - ringing - установлено соединение со АТС
  2. Регистровая (address)
     - pulse (импульсная)
     - dtmf (двух частотный, табл. частот)
  3. Информациолнная (informational)
     - зумер
     - отбой
     - КПВ (занято)
---------------------------
Type connecting

ATC-1   <<-->> ATC-2

        --->>> Sieze (Setup) --- number in-out (repit to time)
        ---<<< Sieze (Setup) Acknowledge
        ---<<< Dial Tone (optional)
        --->>> Dialing
        ---<<< Ring Back Tone (Alert)
        ---<<< Connect
        <<-->> Conversation (Voce)
        ---<<< Disconect
        ---<<< Busy Tone
        --->>> Disconnect
 ----------------------------------       
 |Технология передачи  |  Коммутация каналов                    |  Коммутация пакетов                      |
 |---------------------|----------------------------------------|------------------------------------------|
 |Виды сигнализации    | Линейная, регистровая, информационная  | Линейная, регистровая, информационная    |
 |Протоколы            | SS7, ISDN, QSIG, FXS, E&M              | H.323, SIP, IAX2, MGSP, SCCP, UNISTRIM   |
 |Метод передачи       | Выделеный канал                        |  Несколько UDP потоков                   |
 -----------------------------------
 VoIP протоколы сигнализации
 - SIP                -> протокол организации IETF, p2p, наиболее используем
 - H.323              -> протокол организации IETF, p2p, сложен, утаривает
 - MGSP               -> протокол организации IETF, p2p, клиент-сервер, использует CISCO
 - IAX2               -> Закрытый протокол, один порт для сигнализации и медиа
 - UNISTRIM           -> Закрытый протокол Nortel, Avaya, клиент-сервер
 - SCCP or "Skinny"   -> Закрытый протокол CISCO, клиент-сервер

 -------------------
 Преобразование аналогового сигнала
  - Платы  DSP (cisco PVDM-XX)
  - HMP (Asterisk - использование мощности cpu) host media processing

  Пример
   
     1.Sampling
     2.Quantilization
     3.Encoding
     4.Codec compression
 
     5.VoIP Encapsulation
   
     6.Transport Through IP Network
   
     7.VoIP decapsulation
     8.Decoding
     9.Modulation

-------------------------------    
Протоколы передачи 
  - RTP (Real-Time Transport Protocol)  - передача аудио и видео потоков по IP сетям
  - RTCP (Real-Time Transport Protocol) - предоставление качества канала в RTP потоке (джиттер ... )  
  - cRTP Сжимает  IP/UDP/RTP заголовки на каналах с малой пропускной способностью
  - SRTP Обеспечивает шифрование, аутентификацию, целостность для RTP потока
------------
 Инкапсуляция
 
 |         | 20 байт | 8 байт   | 12 байт  |             |   
 |---------| --------|----------|----------|-------------|
 |L2 Header|IP Header|UDP Header|RTP Header|Voice Payload|
 
 - DSP ресурсы пакетизируют голосовые пакеты
 - Опциональное сжатие
 - Набор голосовой информации достаточной для формирования RTP пакета
 - Голосовой поток передается в RTP сегментах
 - RTP инкапсулируется с помощью UDP и далее в IP пакет
 - IP пакет инкапсулируется в L2 протокол
----------------------------------------------------
RTP

|Payload Type|Sequence Number|Time Stamp|Payload|
|------------|---------------|----------|-------|

 - Обеспечивает передачу голоса
 - Случайный четный UDP порт в диапазоне 16384-32767
 - Поля в RTP протоколе
   - Тип полезной нагрузки
   - Нумерация посылок (Sequence Number)
   - Временные метки (Time Stamp)
 
------------------------------------------



